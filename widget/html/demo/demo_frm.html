<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <title>title</title>
    <link rel="stylesheet" type="text/css" href="../../css/aui.css" />
    <style>
        body {}
    </style>
</head>

<body>
    <div class="aui-content">
        <ul class="aui-list aui-list-in aui-list-noborder">
            <li class="aui-list-item" tapmode onclick="viewPhotos()">
                <div class="aui-list-item-inner aui-list-item-arrow">
                    图片预览
                </div>
            </li>
            <li class="aui-list-item" tapmode onclick="videoPlayer('http://p3d5ao8c2.bkt.clouddn.com/1.%20%E7%90%86%E8%A7%A3%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E7%9A%84App%E6%9E%B6%E6%9E%84.mp4', 'demo视频')">
                <div class="aui-list-item-inner aui-list-item-arrow">
                    视频播放
                </div>
            </li>
            <li class="aui-list-item" tapmode onclick="testApp1()">
                <div class="aui-list-item-inner aui-list-item-arrow">
                    测试崩溃1
                </div>
            </li>
            <li class="aui-list-item" tapmode onclick="testApp2()">
                <div class="aui-list-item-inner aui-list-item-arrow">
                    测试崩溃2
                </div>
            </li>
            <li class="aui-list-item" tapmode onclick="uploadImg()">
                <div class="aui-list-item-inner aui-list-item-arrow">
                    图片上传
                </div>
            </li>
            <li class="aui-list-item" tapmode onclick="uploadVideo()">
                <div class="aui-list-item-inner aui-list-item-arrow">
                    视频上传
                </div>
            </li>
            <li class="aui-list-item" tapmode onclick="openWin('baiduDemo/baidu_map_win')">
                <div class="aui-list-item-inner aui-list-item-arrow">
                    百度地图
                </div>
            </li>
            <li class="aui-list-item" tapmode onclick="openBDaohang()">
                <div class="aui-list-item-inner aui-list-item-arrow">
                    百度地图导航
                </div>
            </li>
            <li class="aui-list-item" tapmode onclick="openPopup()">
                <div class="aui-list-item-inner aui-list-item-arrow">
                    救助项选择
                </div>
            </li>
            <li class="aui-list-item" tapmode onclick="openBDLocation()">
                <div class="aui-list-item-inner aui-list-item-arrow">
                    地图定位
                </div>
            </li>
        </ul>
    </div>
</body>
<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript" src="../../script/jq-module.js"></script>
<script type="text/javascript" src="../../script/jq-bmap.js"></script>
<script type="text/javascript">
    var map;
    apiready = function() {
        api.parseTapmode();
        map = api.require('bMap');
    }

    function openBDaohang() {
        api.openWin({
            name: 'baidu_map_win',
            url: '../baidu/baidu_map_win.html',
            pageParam: {
                destLat: 30.693782,
                destLon: 116.4055
            }
        });
    }

    function openMap() {
        openBmap(map, 116.4, 39.9, api.frameWidth, api.frameHeight, function() {

        })
    }

    function uploadImg() {
        imageUpload('http://192.168.44.14:8080/sri/app/appService.do', 'aaaxxx.jpg', 'sri_file_1', '20181106085120702', 'dbbd2b7d-e7a4-4e4e-a3dc-2f4594d05ccf', 'appUploadFile.uploadFileSri',
            function(data) {
                alert(JSON.stringify(data));
            });
    }

    function uploadVideo() {
        videoUpload('http://192.168.44.14:8080/sri/app/appService.do', 'aaaxxx.mp4', 'dcpyData.uploadVideoForFile', function(data) {
            alert(JSON.stringify(data));
        });
    }


    function openWin(name) {
        var delay = 0;
        if (api.systemType != 'ios') {
            delay = 300;
        }
        api.openWin({
            name: '' + name + '',
            url: '' + name + '.html',
            bounces: false,
            delay: delay,
            slidBackEnabled: true,
            vScrollBarEnabled: false
        });
    }

    /**
     * @author: zuoc
     * @date: 2018-11-07
     * @desc: 图片预览
     * @param
     * @return
     */
    function viewPhotos() {
        var paths = new Array()
        paths[0] = "http://e.hiphotos.baidu.com/image/h%3D300/sign=c7020a599f45d688bc02b4a494c37dab/4b90f603738da9773ded4541bd51f8198718e39e.jpg"
        paths[1] = "http://d.hiphotos.baidu.com/image/h%3D300/sign=cebf60dfbfb7d0a264c9029dfbee760d/b2de9c82d158ccbf0f0ab95714d8bc3eb135412c.jpg"

        imagePreview(paths);

    }

    function openPopup() {
        api.openFrame({
            name: 'item_choice_frm',
            url: '../homepage/item_choice_frm.html',
            rect: {
                x: 0,
                y: 0,
                w: 'auto',
                h: 'auto'
            }
        });
    }


    function testApp1() {
        var paths = new Arraya()
        paths[0] = "http://e.hiphotos.baidu.com/image/h%3D300/sign=c7020a599f45d688bc02b4a494c37dab/4b90f603738da9773ded4541bd51f8198718e39e.jpg"
        paths[1] = "http://d.hiphotos.baidu.com/image/h%3D300/sign=cebf60dfbfb7d0a264c9029dfbee760d/b2de9c82d158ccbf0f0ab95714d8bc3eb135412c.jpg"

        imagePreview(paths);

    }

    function testApp2() {
        //var paths = new Array()

        var aa = $api.gg('aa');


    }

    /**
     * @author: xizc
     * @date: 2018-12-29
     * @desc: 地图定位
     * @param
     * @return
     */
    function openBDLocation(){
        api.openWin({
            name: 'baidu_location_win',
            url: '../baidu/location/baidu_location_win.html',
            pageParam: {
                destLat: '',
                destLon: '',
                winName:'demo_win',
                frameName:'demo_frm',
            }
        });
    }
    /**
     * @author: xizc
     * @date: 2018-12-29
     * @desc: 地图定位 返回参数
     * @param
     * @return
     */
    function getStorage(){
        var address = $api.getStorage('address');
        var lon = $api.getStorage('lon');
        var lat = $api.getStorage('lat');
        alert(address);
        alert(lon);
        alert(lat);
    }
</script>

</html>
