<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <title>APP</title>
    <link rel="stylesheet" type="text/css" href="../../css/aui.css" />
</head>
<style type="text/css">
.active {
    background-color: #f4f4f4;
}
</style>
<body>
    <header class="aui-bar aui-bar-nav aui-bar-dark" id="aui-header">
        <a class="aui-btn aui-btn-dark aui-pull-left" id="back">
            <span class="aui-iconfont aui-icon-left"></span>
        </a>
        <div class="aui-title">百度地图</div>
    </header>
</body>
<script type="text/javascript" src="../../script/api.js" ></script>
<script type="text/javascript">

    apiready = function(){
        var winHeight = api.winHeight;
        var header = $api.byId('aui-header');
        $api.fixStatusBar(header);
        var headerPos = $api.offset(header);
        var body_h = $api.offset($api.dom('body')).h;
        var destLat = api.pageParam.destLat;
        var destLon = api.pageParam.destLon;
        api.openFrame({
            name: 'baidu_map_menu_frm',
            url: 'baidu_map_menu_frm.html',
            bounces: false,
            pageParam : {
                destLat: destLat,
                destLon: destLon
            },
            rect: {
                x: 0,
                y: headerPos.h,
                w: 'auto',
                h: '180'
            }
        });

        api.openFrame({
            name: 'baidu_map_frm',
            url: 'baidu_map_frm.html',
            bounces: true,
            vScrollBarEnabled:false,
            pageParam : {
                destLat: destLat,
                destLon: destLon,
                height:headerPos.h
            },
            rect: {
                x: 0,
                y: headerPos.h+180,
                w: 'auto',
                h: '230'
            }
        });

        api.openFrame({
            name: 'baidu_daohang_result_frm',
            url: 'baidu_daohang_result_frm.html',
            bounces: true,
            vScrollBarEnabled:false,
            rect: {
                x: 0,
                y: headerPos.h + 370,
                w: 'auto',
                h: 'auto'
            },
            pageParam:{
                height:headerPos.h,
                destLat: destLat,
                destLon: destLon
            }
        });

        $api.addEvt($api.byId('back'), 'click', function(){
            api.closeWin();
        });
    };
</script>
</html>
